<!DOCTYPE html>
<html lang="en">

<head>

    <style>
        label {
            margin-bottom: .3em;
        }

        .form-group {
            margin-bottom: .8em;
        }

        .form-row {
            display: flex;
            flex-direction: row;
        }

        .wrap {
            /* padding: 0 5rem; */
            justify-content: space-between;
            display: flex;
            margin: 0 auto;
            width: 70%;
        }

        .password {
            position: relative;
        }

        .bi-eye-fill {
            position: absolute;
            top: 55%;
            right: 3%;
            z-index: 3;
            cursor: pointer;
        }
    </style>
    <%- include("./partials/header.ejs")%>
</head>

<body>
    <div class="wrap my-5">
        <div class="w-50">
            <h1 class="mb-1 text-center">Sign Up</h1>
            <p class="mb-3 text-center">Welcome to TKO Championship</p>
        </div>
        <div class="w-50">
            <ul>
                <% if(errs !=null && errs.length>0) {
                    console.log(errs);

                    for(let i=0; i<errs.length; i++){ %>
                        <li class="text-danger">
                            <%= errs[i]%>
                        </li>
                        <% } }%>
            </ul>
            <form method="POST" action="/authen/signup">
                <div class="form-group">
                    <label>Username</label>
                    <input type="text" class="form-control" name="username" value="<%= fname%>">
                </div>
                <div class="form-row gap-3">
                    <div class="form-group w-50">
                        <label>Firstname</label>
                        <input type="text" class="form-control" name="fname" value="<%= fname%>">
                    </div>
                    <div class="form-group w-50">
                        <label>Lastname</label>
                        <input type="text" class="form-control" name="lname" value="<%= lname%>">
                    </div>
                </div>
                <div class="form-group">
                    <label>E-mail</label>
                    <input type="email" class="form-control" name="email" value="<%= email%>">
                </div>
                <div class="form-group password">
                    <label>Password</label>
                    <input type="password" id="password" class="form-control" name="password" value="">
                    <i class="bi bi-eye-fill" id="eye-password"></i>
                </div>
                <div class="form-group password">
                    <label>Confirm Password</label>
                    <input type="password" id="confirm" class="form-control" name="confirm" value="">
                    <i class="bi bi-eye-fill" id="eye-confirm"></i>
                </div>
                <div class="my-4 text-center">
                    <button type="submit" class="btn btn-primary px-5">Sign up</button>
                </div>
            </form>
            <div class="text-center">
                Already have an account? <a href="/authen/signin">Sign In</a>
            </div>
        </div>
    </div>


    <script>
        const eye = document.querySelectorAll(".bi-eye-fill")
        eye.forEach(e => {
            e.addEventListener("click", () => {
                const id = (e.id).split("-")[1]
                const input = document.querySelector(`#${id}`)
                if (input.type == "password") {
                    input.type = "text"
                } else {
                    input.type = "password"
                }
            })
        })
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
</body>

</html>